import { useState, useEffect, useRef } from 'react';
import gsap from 'gsap';
import CardButton from './Card-Button';
import PropTypes from 'prop-types';

CardItem3.propTypes = {
  className: PropTypes.string
};

export default function CardItem3({ className }) {
  const hand = useRef();
  const [isAnimationStart, setIsAnimationStart] = useState(false);
  const text = useRef();

  useEffect(() => {
    gsap.fromTo(
      text.current,
      { y: 300 },
      {
        y: 0,
        scrollTrigger: {
          trigger: hand.current,
          start: 'top 60%',
          end: '+=500',
          scrub: 1
        }
      }
    );
  }, []);

  function animation() {
    if (isAnimationStart) return;
    setIsAnimationStart(true);
  }

  return (
    <div
      className={`flex h-full w-1/2 shrink-0 items-center justify-center bg-black py-0 pl-10 sm:min-w-[18.5rem] sm:py-[100px] ${className}`}
      onMouseEnter={animation}>
      <div className="flex h-full w-full flex-row-reverse items-center justify-center sm:flex-col sm:items-start sm:justify-between">
        <div className="flex w-full flex-col items-center justify-center">
          <svg
            className="w-full scale-[1.3] sm:scale-100"
            width="218"
            height="228"
            viewBox="0 0 218 228"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M201.186 101.816C198.278 97.4331 193.585 93.566 188.031 94.3326C183.015 95.0257 180.471 99.8446 179.334 104.6C177.845 103.013 176.253 101.504 174.524 100.121C158.269 87.1289 134.768 84.695 114.74 88.9383C123.37 65.8469 122.985 29.1302 98.4697 17.2303C81.1499 8.82339 58.0535 17.3693 57.4381 36.5434C38.1515 32.7683 18.2608 45.9409 13.8917 65.1743C9.51859 84.4261 23.9516 98.0464 41.8489 95.9825C42.0595 99.2333 42.3243 102.479 42.6105 105.721C42.4367 105.905 42.2456 106.037 42.0789 106.24C40.8369 107.742 41.5208 109.512 43.0133 110.056C44.7235 128.033 47.0797 145.928 47.1983 164.048C35.8525 178.915 40.2808 197.204 54.6157 208.129C68.8381 218.969 89.4004 213.907 99.7117 200.237C106.564 191.151 107.702 181.285 104.528 172.447C114.503 159.21 130.475 158.256 139.561 174.128C140.461 175.702 141.87 176.188 143.214 176.014C140.383 189.952 146.66 205.028 165.224 208.228C181.041 210.955 193.526 200.163 196.592 185.1C198.442 176.021 195.041 159.767 186.027 153.749C186.169 153.58 186.324 153.446 186.446 153.225C191.441 144.103 192.451 134.116 190.283 124.811C196.029 125.35 202.059 122.38 204.179 116.894C206.073 111.998 203.92 105.94 201.186 101.816ZM128.382 94.9859C136.172 94.8018 143.894 95.6125 151.361 97.7122C149.459 104.993 146.083 111.754 137.372 111.503C128.28 111.242 127.797 101.762 128.382 94.9859ZM119.958 95.5225C121.731 95.3304 123.506 95.1913 125.277 95.0922C121.358 104.208 125.71 114.776 135.807 116.975C146.777 119.365 156.12 110.1 157.632 99.8006C157.963 99.9314 158.302 100.033 158.634 100.169C157.663 106.386 158.386 112.379 153.976 117.998C150.103 122.935 144.017 124.705 137.975 124.377C122.703 123.548 118.081 108.293 119.958 95.5225ZM52.6019 146.531C52.5814 144.413 52.5692 142.293 52.4986 140.174C56.193 138.38 59.5735 135.375 59.9385 131.27C60.4292 125.76 55.7667 122.496 51.2668 120.504C50.9673 116.994 50.6361 113.498 50.3059 109.99C56.7747 110.49 61.7519 113.854 65.798 120.471C73.4617 133.004 63.8332 141.953 52.6019 146.531ZM51.7401 126.296C53.6773 127.41 55.366 128.976 55.3169 131.271C55.2781 133.052 53.9523 134.508 52.3167 135.699C52.1613 132.563 51.9732 129.428 51.7401 126.296ZM93.198 194.417C86.0199 205.129 71.7177 207.916 60.9198 201.525C48.5446 194.198 46.4684 179.371 55.2147 168.453C63.0062 158.729 74.5626 157.005 85.4137 160.439C85.6733 161.232 86.0955 161.995 86.8888 162.598C97.7368 170.85 100.927 182.882 93.198 194.417ZM188.82 180.335C188.571 191.897 180.06 200.649 168.529 200.319C155.761 199.953 148.405 189.458 150.533 177.456C152.56 166.028 162.012 158.201 172.844 155.627C175.65 154.962 175.053 150.489 172.163 150.601C159.294 151.1 150.053 158.966 145.566 168.742C135.141 150.8 112.517 150.704 101.654 166.536C99.0882 162.38 95.5359 158.578 91.1025 155.392C89.9923 154.594 88.9098 154.452 87.9775 154.734C76.418 148.179 62.5074 149.988 52.3913 158.6C52.5324 155.999 52.5804 153.398 52.607 150.797C52.7593 150.788 52.8983 150.809 53.0649 150.767C68.5048 146.864 78.7916 134.323 71.4448 118.679C68.5866 112.593 58.2283 102.769 49.6364 102.694C49.345 99.5757 49.0445 96.4497 48.7818 93.336C48.4792 89.752 44.059 88.9976 42.356 91.1259C28.2501 89.8021 17.8642 81.433 21.4962 65.6895C23.9168 55.1983 30.4142 49.5811 38.5083 46.6973C38.8221 50.5502 40.2737 54.4428 40.5354 58.3815C40.8911 63.7544 40.3146 69.1845 39.6992 74.5155C39.5264 76.007 35.1349 90.7855 39.6869 90.0546C39.9302 90.0157 40.1725 89.9769 40.4158 89.937C41.2336 89.8062 41.8132 89.016 42.0585 88.2943C44.8482 80.0959 46.2221 71.5766 46.7618 62.9499C47.091 57.6895 47.3874 49.8693 44.0631 45.166C48.7531 44.2041 53.7488 43.8984 58.6648 43.9271C59.1708 44.2542 59.7943 44.1939 60.3852 43.9526C60.6796 43.9588 60.9771 43.9577 61.2694 43.9659C64.8156 44.064 65.2756 39.3934 62.492 37.9858C66.8345 20.2346 87.7751 16.1314 102.067 28.1294C119.71 42.9406 109.03 71.6849 107.78 90.4195C107.755 90.8008 107.816 91.1545 107.938 91.4796C106.611 93.7019 108.456 97.2849 111.799 96.6777C112.711 96.5121 113.627 96.4047 114.541 96.2606C111.501 112.076 118.826 128.819 136.777 130.997C151.79 132.82 167.025 118.944 166.141 103.891C184.372 114.618 183.888 132.071 180.919 150.897C180.88 151.155 180.915 151.395 180.934 151.64C179.993 151.468 179.021 151.372 177.997 151.406C175 151.504 174.003 154.748 175.724 156.892C178.707 160.607 182.992 162.315 185.693 166.54C188.309 170.62 188.922 175.608 188.82 180.335ZM197.5 114.46C197.445 114.66 197.428 114.741 197.416 114.801C197.405 114.808 197.39 114.824 197.339 114.931C197.23 115.154 196.416 116.245 196.936 115.627C196.136 116.578 196.331 116.333 195.173 116.913C195.72 116.638 194.479 117.138 194.334 117.181C193.915 117.304 192.984 117.482 192.831 117.5C191.22 117.681 189.624 117.628 188.01 117.834C186.771 114.907 185.179 112.116 183.315 109.482C184.061 107.015 184.819 104.553 186.293 102.407C186.776 101.704 187.291 101.328 187.754 101.044C188.372 100.663 188.329 100.72 188.894 100.7C189.081 100.694 189.14 100.686 189.196 100.679C189.218 100.687 189.211 100.692 189.291 100.707C189.638 100.771 189.973 100.891 190.309 101.009C190.372 101.052 190.898 101.277 191.004 101.335C191.366 101.533 191.704 101.775 192.038 102.016C192.074 102.066 192.627 102.522 192.7 102.59C193.092 102.951 193.462 103.337 193.827 103.724C194.697 104.652 194.602 104.575 195.304 105.65C196.516 107.502 196.859 108.324 197.395 110.307C197.828 111.918 197.824 113.27 197.5 114.46Z"
              fill="#288E3E"
            />
            <path
              d="M77.2939 51.4856C76.977 50.2619 76.2257 49.4002 75.2627 48.9054C75.1227 48.4781 74.9898 48.0519 74.7966 47.6287C73.1825 44.0876 67.552 45.9256 67.6552 49.5627C67.7401 52.5415 68.7286 55.3568 68.8911 58.3172C69.1763 63.503 77.0199 63.5797 77.0015 58.3172C76.9995 57.7345 76.9944 57.1539 76.9923 56.5732C77.2806 55.9446 77.435 55.2494 77.2254 54.6218C77.3174 54.8917 77.3235 55.1595 77.2448 55.4253C77.3532 54.9673 77.3951 54.5042 77.3716 54.0371C77.3644 53.1528 77.5239 52.3759 77.2939 51.4856Z"
              fill="#288E3E"
            />
          </svg>
        </div>
        <div className="flex w-full flex-col justify-center gap-4">
          <div className="w-full overflow-hidden sm:ml-0">
            <div className="flex flex-col gap-2" ref={text}>
              <div className="text-head-1 mb-2 text-pr-2 sm:hidden">
                Datasheet
              </div>
              <div className="text-head-1 mb-2 hidden text-pr-2 sm:block">
                Technical Datasheet
              </div>
              <div className="text-body-2 hidden text-pr-2 sm:block">
                Technical specifications of the film
              </div>
            </div>
          </div>
          <div>
            <CardButton>LEARN MORE</CardButton>
          </div>
        </div>
      </div>
    </div>
  );
}

// path {
//   stroke-dasharray:1900;
//   stroke-dashoffset: 0;
// }

// .pathAnimation {
//   stroke-dasharray: 0;
// }
