import { useState, useEffect, useRef } from 'react';
import gsap from 'gsap';
import CardButton from './Card-Button';

export default function CardItem1({ className }) {
  const path = useRef();
  const hand = useRef();
  const [isAnimationStart, setIsAnimationStart] = useState(false);
  const text = useRef();

  useEffect(() => {
    gsap.fromTo(
      text.current,
      { y: 300 },
      {
        y: 0,
        scrollTrigger: {
          trigger: hand.current,
          start: 'top 60%',
          end: '+=500',
          scrub: 1
        }
      }
    );
  }, []);

  function animation() {
    if (isAnimationStart) return;
    setIsAnimationStart(true);
    // let tl = gsap.timeline({});
    // tl.set(path.current, { strokeDasharray: 1900, strokeDashoffset: 0 });
    // let ctl_1 = gsap.fromTo(
    //   path.current,
    //   { strokeDashoffset: 1900 },
    //   {
    //     strokeDashoffset: 0,
    //     duration: 2,
    //     ease: 'none'
    //   }
    // );
    // let ctl_2 = gsap.to(hand.current, {
    //   scale: '1.2',
    //   duration: 0.5
    // });
    // let ctl_3 = gsap.to(hand.current, {
    //   rotate: 330,
    //   duration: 1
    // });
    // let ctl_4 = gsap.to(hand.current, {
    //   y: '-80',
    //   x: '+80',
    //   duration: 0.6,
    //   repeat: -1,
    //   yoyo: true,
    //   ease: 'none'
    // });
    // tl.add(ctl_1);
    // tl.add(ctl_2);
    // tl.add(ctl_3);
    // tl.add(ctl_4);
  }

  return (
    <div
      className={`flex h-full w-full items-center justify-center bg-black p-10 sm:min-w-[18.5rem] sm:py-[100px] ${className}`}
      onMouseEnter={animation}>
      <div className="flex h-full w-full flex-col items-start justify-center sm:justify-between sm:gap-6">
        <div className="flex w-full flex-col items-center justify-center py-7">
          <svg
            width="200"
            height="201"
            viewBox="0 0 200 201"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_329_185)">
              <path
                d="M195.38 54.3402C193.526 34.55 178.174 19.5964 160.006 32.7226C158.264 6.03758 122.355 -8.37903 101.304 6.45447C96.1315 -0.654579 83.8317 0.959689 76.8449 3.96568C68.5207 7.54946 61.2686 13.7902 56.4278 21.4928C41.4366 12.1258 20.8032 11.4394 8.92656 26.2791C0.480127 36.8351 4.50065 47.0912 14.3325 50.1505C9.6569 55.1155 6.91317 61.7951 10.7801 68.3536C15.7577 76.7948 24.5907 77.1678 32.7059 74.3519C35.2877 88.6484 51.3447 87.5231 58.9344 77.1793C61.022 81.3001 63.9569 84.9518 67.5491 88.057C57.9554 85.6905 46.5051 88.5314 41.9329 97.4626C39.5256 102.164 40.4691 107.84 44.6651 111.187C47.2615 113.255 50.3762 114.36 53.6225 114.929C55.7477 115.301 58.226 115.612 60.674 115.599C56.3955 125.973 53.8356 136.94 55.7163 146.531C55.8762 147.344 56.082 148.087 56.2784 148.845C56.0496 148.807 55.848 148.696 55.5847 148.772C47.0222 151.211 38.6249 156.76 35.5364 165.47C33.2346 171.959 35.0108 179.332 39.6029 184.334C44.0925 189.226 51.3594 190.918 57.5322 188.525C66.3684 185.1 71.5236 175.87 74.4251 167.213C79.6796 168.577 85.6905 168.905 92.1194 168.79C95.8327 168.723 100.836 169.223 106.162 169.52C104.259 177.004 103.383 185.037 106.569 192.239C109 197.734 114.289 201.289 120.364 200.35C126.303 199.43 130.239 194.058 132.079 188.748C133.32 185.167 133.519 181.168 133.241 177.421C132.998 174.158 132.492 169.364 130.903 165.745C132.565 164.638 134.011 163.278 135.104 161.529C141.557 151.204 141.734 137.238 139.838 123.48C141.659 124.284 143.591 124.865 145.133 125.275C148.187 126.085 151.485 126.129 154.527 125.265C160.001 123.709 163.399 118.808 163.995 113.334C164.649 107.313 160.903 102.05 156.309 98.6422C150.056 94.0042 141.374 93.7671 133.867 94.6635C133.661 93.7932 133.451 92.9145 133.257 92.0817C135.008 90.8802 136.645 89.5156 138.201 88.0455C144.774 92.74 149.461 91.8696 153.15 86.3749C161.76 95.724 172.939 90.6994 175.727 78.8771C180.146 81.5352 185.147 82.3491 189.739 78.3902C195.969 73.0187 196.073 61.722 195.38 54.3402ZM157.029 112.384C156.937 115.4 155.029 117.766 152.157 118.583C146.876 120.083 143.034 115.746 138.406 114.861C137.191 108.532 135.728 102.438 134.412 96.9538C143.773 97.4553 157.379 100.976 157.029 112.384ZM55.7978 66.7351C55.7884 66.78 55.7602 66.8041 55.7518 66.8511C53.9568 77.2838 38.8109 85.1096 39.2288 69.3503C39.3009 66.6108 36.2699 65.2013 34.0266 66.3652C28.5517 69.2051 19.6089 71.8339 16.4734 64.3142C13.8509 58.0243 20.263 52.9161 25.0306 50.4859C27.9948 48.975 26.7034 43.7864 23.2962 44.0821C19.0385 44.4519 11.9764 45.0621 11.4822 39.1881C11.104 34.688 14.8978 30.3853 17.9174 27.5862C28.1275 18.1242 42.0896 21.9661 53.9714 25.9458C53.845 26.2144 53.6893 26.4693 53.5681 26.741C49.813 35.1749 50.5412 44.6734 57.4706 51.0166C55.6756 56.6807 55.2305 61.9216 55.7978 66.7351ZM49.7785 105.979C48.5832 105.245 48.1214 104.361 47.8874 103.461C47.7442 102.912 47.9459 101.565 48.5393 100.439C52.8148 92.3346 63.2224 93.4839 71.4797 95.0219C68.9648 99.01 66.4091 103.437 64.0854 108.102C59.2938 107.591 54.2525 108.729 49.7785 105.979ZM55.242 181.906C51.3897 183.706 47.2991 182.239 44.5282 179.407C41.4972 176.309 40.491 171.587 41.7229 167.175C43.7686 159.839 50.6729 155.443 56.9158 151.929C57.037 151.861 57.0422 151.737 57.1362 151.652C59.3701 157.975 63.073 162.075 67.8332 164.659C65.3653 171.392 62.0459 178.728 55.242 181.906ZM125.345 185.302C124.419 189.318 122.065 192.396 119.08 193.173C118.104 193.425 116.809 193.259 115.978 192.849C114.389 192.065 113.279 190.665 112.297 188.891C109.283 183.448 109.529 176 110.388 169.686C114.975 169.8 119.605 169.622 123.721 168.684C123.915 169.251 124.11 169.816 124.284 170.382C124.883 172.333 125.312 174.333 125.633 176.349C126.1 179.28 126.01 182.413 125.345 185.302ZM130.517 150.465C128.296 165.102 109.751 160.282 99.2044 160.401C81.9489 160.598 62.1086 162.395 63.3039 138.409C64.0008 124.411 70.7086 108.967 76.4301 95.7982C77.0769 95.7052 77.5774 95.3134 77.7968 94.7523C80.015 95.8107 82.3397 96.7104 84.7293 97.4908C81.7368 104.584 79.7067 112.897 84.071 119.801C87.7822 125.67 95.2486 126.46 101.48 125.326C108.468 124.056 114.87 119.521 119.022 113.89C122.219 109.554 123.634 102.716 120.872 97.9819C122.612 97.4334 124.333 96.8368 125.991 96.1054C129.742 113.907 133.279 132.271 130.517 150.465ZM88.3339 98.6025C96.678 100.753 105.688 101.173 114.226 99.639C114.572 103.454 115.196 106.335 112.641 110.16C110.027 114.074 105.364 116.684 100.97 118.027C97.1199 119.204 92.6397 119.402 89.7006 116.258C85.9151 112.203 87.1992 104.139 88.3339 98.6025ZM62.467 54.0446C70.4317 56.5334 78.9994 49.7388 80.8832 41.681C81.2165 40.2517 79.4602 39.1128 78.3735 40.2204C72.9937 45.7057 64.6131 51.096 59.5926 42.1C56.3819 36.3451 60.4578 28.6603 63.6173 23.8948C67.7152 17.7126 74.1806 12.6994 81.0786 10.0654C88.1166 7.3781 92.9124 10.2504 99.7069 11.1249C100.556 11.2346 101.192 10.778 101.64 10.1615C101.811 10.1417 101.983 10.1166 102.149 10.0435C119.131 2.50709 145.341 7.91619 151.822 27.1077C154.193 34.1279 153.188 42.0112 150.986 48.905C149.975 52.0688 148.245 55.0372 145.899 57.3765C142.812 60.4546 140.862 54.0675 139.955 52.1074C139.1 50.256 137.214 50.14 135.765 50.9372C135.913 48.1486 132.492 45.642 130.01 48.1956C124.133 54.2452 115.667 56.7862 112.314 46.6231C111.386 43.8115 107.765 43.312 106.149 45.8175C102.02 52.2182 81.6501 57.3504 83.8401 44.756C84.0773 43.3893 82.6709 42.6047 81.6062 43.4552C75.0468 48.6971 80.9501 55.1636 86.6935 57.5531C93.9708 60.5821 102.41 58.4203 108.166 53.4354C114.077 62.6101 125.619 62.3332 133.943 53.9453C133.949 54.171 133.918 54.3883 133.976 54.6255C135.152 59.2583 138.322 63.7866 142.383 64.9349C131.144 109.216 57.6409 98.9651 62.467 54.0446ZM175.386 70.0796C173.354 68.2041 169.438 69.3723 169.621 72.4681C170.242 83.0262 162.4 90.5009 155.582 78.5961C154.015 75.8617 150.575 76.9024 149.536 79.386C147.179 85.0218 145.605 84.5756 142.457 83.3083C146.112 78.5187 148.855 72.7022 150.236 65.7039C150.436 64.6956 150.219 63.843 149.835 63.1095C157.265 57.2491 159.921 46.5573 160.1 37.1454C160.6 37.2739 161.14 37.2509 161.654 36.9782C176.673 29.0051 185.624 37.4839 188.221 52.7082C189.819 62.0762 188.038 81.7619 175.386 70.0796Z"
                fill="#288E3E"
              />
              <path
                d="M81.227 65.5952C82.1767 61.7325 77.3036 59.8225 75.0363 62.7523C74.6435 63.0229 74.3593 63.3938 74.1117 63.8358C74.0887 63.796 74.0667 63.7563 74.0437 63.7177C73.9006 63.935 73.8327 64.2453 73.7198 64.5003C73.7157 64.5149 73.7031 64.5212 73.699 64.5347C73.6969 64.5431 73.6979 64.5483 73.6958 64.5577C72.7241 66.8093 72.7408 70.2552 72.6802 72.4692C72.6907 77.1626 79.8823 77.1553 79.9533 72.4692C79.9648 71.2865 80.1362 70.204 80.3639 69.132C80.3723 69.0725 80.3817 69.016 80.3901 68.9575C80.6314 67.8531 80.9396 66.7634 81.227 65.5952Z"
                fill="#288E3E"
              />
              <path
                d="M132.091 75.587C132.131 73.4169 130.977 71.5194 131.15 69.3493C131.474 65.2839 125.255 65.0352 124.538 68.7235C123.15 70.4757 124.197 73.4189 124.349 75.587C124.579 78.851 128.327 79.7266 130.179 78.0873C131.206 77.732 132.067 76.8794 132.091 75.587Z"
                fill="#288E3E"
              />
              <path
                d="M113.854 70.7963C112.874 69.9772 111.472 69.8152 110.509 70.7963C108.143 73.2088 108.977 76.7487 107.61 79.691C106.505 82.069 104.342 83.4336 101.878 84.0521C95.7031 85.6037 90.6315 80.4286 88.7581 75.1669C88.149 73.4554 85.7898 73.7866 85.6477 75.5879C84.932 84.6999 93.415 91.2051 102.017 90.7109C106.308 90.4643 110.412 88.2649 112.835 84.6895C115.204 81.1914 117.729 74.0353 113.854 70.7963Z"
                fill="#288E3E"
              />
            </g>
            <defs>
              <clipPath id="clip0_329_185">
                <rect
                  width="200"
                  height="200"
                  fill="white"
                  transform="translate(0 0.5)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div className="flex w-full flex-col gap-4">
          <div className="w-full overflow-hidden sm:ml-0">
            <div className="flex flex-col gap-2" ref={text}>
              <div className="text-head-1 mb-2 text-pr-2">Formats</div>
              <div className="text-body-2 text-pr-2">
                The format availability of the VIBE 400 is limited to the 35mm
                format. On a roll of the color film fit with a normal 35 mm
                camera 27 photos.
              </div>
            </div>
          </div>
          <CardButton>LEARN MORE</CardButton>
        </div>
      </div>
    </div>
  );
}

// path {
//   stroke-dasharray:1900;
//   stroke-dashoffset: 0;
// }

// .pathAnimation {
//   stroke-dasharray: 0;
// }
