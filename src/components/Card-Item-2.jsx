import { useState, useEffect, useRef } from 'react';
import gsap from 'gsap';
import CardButton from './Card-Button';

export default function CardItem2({ className }) {
  const path = useRef();
  const hand = useRef();
  const [isAnimationStart, setIsAnimationStart] = useState(false);
  const text = useRef();

  useEffect(() => {
    gsap.fromTo(
      text.current,
      { y: 300 },
      {
        y: 0,
        scrollTrigger: {
          trigger: hand.current,
          start: 'top 60%',
          end: '+=500',
          scrub: 1
        }
      }
    );
  }, []);

  function animation() {
    if (isAnimationStart) return;
    setIsAnimationStart(true);
    // let tl = gsap.timeline({});
    // tl.set(path.current, { strokeDasharray: 1900, strokeDashoffset: 0 });
    // let ctl_1 = gsap.fromTo(
    //   path.current,
    //   { strokeDashoffset: 1900 },
    //   {
    //     strokeDashoffset: 0,
    //     duration: 2,
    //     ease: 'none'
    //   }
    // );
    // let ctl_2 = gsap.to(hand.current, {
    //   scale: '1.2',
    //   duration: 0.5
    // });
    // let ctl_3 = gsap.to(hand.current, {
    //   rotate: 330,
    //   duration: 1
    // });
    // let ctl_4 = gsap.to(hand.current, {
    //   y: '-80',
    //   x: '+80',
    //   duration: 0.6,
    //   repeat: -1,
    //   yoyo: true,
    //   ease: 'none'
    // });
    // tl.add(ctl_1);
    // tl.add(ctl_2);
    // tl.add(ctl_3);
    // tl.add(ctl_4);
  }

  return (
    <div
      className={`flex h-full w-full items-center justify-center bg-black p-10 sm:min-w-[18.5rem] sm:py-[72px] ${className}`}
      onMouseEnter={animation}>
      <div className="flex h-full w-full flex-col-reverse items-start justify-center sm:justify-between">
        <div className="flex w-full flex-col items-center justify-center py-7">
          <svg
            width="200"
            height="201"
            viewBox="0 0 200 201"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_329_290)">
              <path
                d="M186.684 23.6171C170.59 5.78708 145.82 -0.496869 125.504 13.9983C116.279 20.5796 111.337 31.3782 108.087 41.8338C106.257 47.7206 105.743 72.3418 94.6386 71.2659C94.7415 70.953 94.7966 70.6183 94.7207 70.2544C92.3392 58.751 81.8846 50.4753 70.8927 50.1022C39.3388 43.366 37.2005 73.4967 43.6456 97.4495C26.2085 100.11 7.55213 109.25 2.20896 126.969C1.9366 126.869 1.65697 126.8 1.38462 126.698C0.218265 126.26 -0.584251 128.176 0.5374 128.707C0.896037 128.877 1.26403 129.017 1.62475 129.181C1.56965 129.419 1.48857 129.642 1.43867 129.884C-1.96786 146.309 6.93881 162.842 17.6408 174.616C28.744 186.831 45.3483 196.108 62.224 194.93C81.422 193.59 94.2612 176.525 99.2354 159.23C102.12 160.293 105.034 161.148 107.967 161.694C122.23 164.355 135.919 156.152 138.05 143.176C144.066 133.228 140.958 118.453 131.906 110.12C131.937 109.964 132.028 109.856 132.045 109.691C133.483 96.0264 161.042 100.902 169.986 99.0099C179.968 96.8986 186.465 92.7945 192.59 84.7309C205.53 67.7014 200.217 38.6102 186.684 23.6171ZM45.3151 102.964C46.7527 107.222 48.4274 111.153 50.2164 114.454C49.994 114.546 49.7819 114.662 49.5605 114.759C47.5885 113.502 45.313 112.562 43.3192 111.349C40.8888 109.87 38.6663 108.094 36.5612 106.188C36.3938 106.036 36.214 106.027 36.0362 105.993C39.1559 104.847 42.2984 103.855 45.3151 102.964ZM53.0845 119.293C58.1522 127.257 64.8353 135.301 72.4935 142.269C69.85 145.271 68.798 149.629 63.8124 150.291C58.7437 150.964 53.7519 148.241 50.1073 144.961C46.3047 141.54 43.524 136.705 43.6404 131.497C43.7672 125.783 48.4638 122.117 53.0845 119.293ZM35.058 106.363C34.794 106.719 34.7057 107.208 35.11 107.639C38.0186 110.737 41.8618 114.436 45.9419 116.66C44.2423 117.716 42.7422 119.016 41.3711 120.425C38.503 118.692 34.846 117.94 31.8407 116.508C29.6764 115.477 26.0256 113.491 25.457 110.81C28.5028 109.09 31.7482 107.619 35.058 106.363ZM23.8831 111.763C24.0307 114.116 25.4091 115.878 27.5859 117.584C30.4082 119.797 34.951 122.571 38.9552 123.451C38.1039 124.764 37.4604 126.203 36.9593 127.716C36.8918 127.654 36.8762 127.557 36.7982 127.503C32.794 124.71 26.3936 123.893 21.7448 122.475C19.2344 121.709 16.7197 120.943 14.201 120.203C16.7863 116.821 20.1335 114.063 23.8831 111.763ZM12.439 122.813C14.7259 123.798 17.1148 124.62 19.3799 125.485C24.3426 127.379 30.4956 130.872 35.8367 131.052C36.0051 131.059 36.0934 130.954 36.24 130.924C36.0518 132.686 36.1288 134.421 36.4157 136.114C32.6744 135.156 28.8292 134.483 25.117 133.633C19.9454 132.449 14.8611 131.033 9.81727 129.469C10.4389 127.064 11.2643 124.805 12.439 122.813ZM9.15924 132.212C12.334 133.337 15.5544 134.34 18.7936 135.302C25.0515 137.162 31.4883 139.533 37.9136 141.121C39.0155 143.682 40.6486 146.002 42.4709 148.15C36.3044 146.089 30.0808 144.161 23.7168 142.553C22.5328 142.253 13.2134 139.535 9.14053 140.621C8.81412 137.829 8.74447 135.016 9.15924 132.212ZM23.458 168.8C22.3883 167.684 21.3477 166.504 20.3456 165.273C32.4904 173.539 46.7621 182.168 61.3706 186.527C60.7136 186.589 60.0691 186.669 59.3851 186.691C45.5729 187.126 32.6089 178.35 23.458 168.8ZM71.3043 183.677C71.2877 183.671 71.2783 183.659 71.2617 183.652C53.9879 177.388 37.3138 171.948 21.1876 162.799C20.1751 162.226 19.3414 163.101 19.3757 163.982C16.8154 160.658 14.5211 157.018 12.7539 153.14C24.3145 157.951 35.9614 162.56 47.7039 166.907C56.8715 170.3 69.0225 176.328 79.6029 177.217C77.2047 179.834 74.4645 182.042 71.3043 183.677ZM83.5666 172.17C74.2805 168.085 62.8737 166.604 53.2581 163.605C39.2484 159.235 25.3592 154.495 11.4192 149.917C10.6271 147.778 9.98151 145.598 9.54907 143.387C13.8143 144.955 36.3928 151.185 38.5114 151.916C54.255 157.348 69.4571 164.582 85.4512 169.17C84.8546 170.201 84.2184 171.194 83.5666 172.17ZM88.1862 163.923C88.128 163.901 88.0958 163.861 88.0345 163.843C81.2796 161.833 74.6506 159.547 68.0516 157.194C69.6878 156.566 71.3708 155.681 72.926 154.605C75.4479 155.219 77.9729 155.824 80.4823 156.487C83.6612 157.328 86.8359 158.689 90.0387 159.537C89.4285 161.003 88.863 162.491 88.1862 163.923ZM75.7992 152.221C77.1714 150.849 78.2775 149.313 78.8991 147.676C82.5873 150.523 86.4637 153.006 90.4306 155.156C86.0074 153.389 80.6985 152.774 75.7992 152.221ZM79.5114 140.714C71.5018 133.807 63.6014 125.241 57.4308 116.22C58.0462 114.798 56.9817 112.972 55.2789 112.941C54.703 112.023 54.1157 111.107 53.5814 110.184C47.4898 99.6637 43.7568 86.3703 45.0479 75.186C44.1144 89.1552 53.6323 104.079 63.5432 115.283C78.9958 132.75 99.408 160.037 126.024 152.162C127.861 151.619 129.458 150.868 130.94 150.025C121.441 166.175 90.099 149.843 79.5114 140.714ZM102.375 141.071C91.441 135.154 82.447 124.789 74.5185 115.402C66.2428 105.602 58.0472 96.7531 53.7654 84.3619C45.1332 59.3789 77.4718 50.7654 89.7185 69.5632C87.4212 68.6265 85.0708 71.1443 85.9461 73.2337C85.0833 75.3752 84.8379 77.5478 84.9585 79.9397C85.3327 87.3308 88.81 94.5773 92.8974 100.597C98.7125 109.164 115.469 122.631 125.925 114.471C126.05 114.69 126.116 114.916 126.289 115.128C142.233 134.748 123.863 152.703 102.375 141.071ZM156.534 91.0814C142.261 91.6656 126.402 91.1271 123.458 106.938C118.881 107.988 115.777 109.563 110.657 107.063C105.642 104.616 101.739 100.018 98.6418 95.5067C95.6656 91.1698 93.3361 86.389 91.8838 81.3327C91.6967 80.6809 91.4015 79.1216 91.231 77.4407C99.1044 81.7433 106.977 79.0676 110.732 68.5881C113.589 60.6107 114.455 52.3236 116.451 44.1373C122.347 19.9486 144.389 8.66033 167.002 19.0317C183.056 26.3947 190.463 44.6082 190.676 61.2054C190.947 82.2329 174.83 90.3329 156.534 91.0814Z"
                fill="#288E3E"
              />
              <path
                d="M175.49 43.7434C170.344 40.7101 165.729 48.6562 170.828 51.7197C178.65 56.4205 174.61 64.9488 170.424 70.8845C168.244 73.9771 165.205 76.7973 161.896 78.631C160.145 79.6019 156.967 79.0895 156.568 78.4075C155.903 77.2672 153.791 77.6695 153.939 79.1196C154.177 81.4523 152.977 82.5053 155.214 84.495C156.769 85.8797 158.911 86.4244 160.953 86.2799C166.719 85.8745 171.901 81.6592 175.721 77.6684C185.058 67.9052 189.056 51.7416 175.49 43.7434Z"
                fill="#288E3E"
              />
            </g>
            <defs>
              <clipPath id="clip0_329_290">
                <rect
                  width="200"
                  height="200"
                  fill="white"
                  transform="translate(0 0.5)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div className="flex w-full flex-col gap-4">
          <div className="w-full overflow-hidden sm:ml-0">
            <div className="flex flex-col gap-2" ref={text}>
              <div className="text-head-1 mb-2 text-pr-2">
                Cinquième Élément
              </div>
              <div className="text-body-2 text-pr-2">
                Tarantino wrote Pulp Fiction in 1992 and 1993, incorporating
                scenes that Avary originally wrote for True Romance (1993). Do
                et reprehenderit exercit reprehendetation excepteur aliqua duis
                culpa.
              </div>
            </div>
          </div>
          <CardButton>LEARN MORE</CardButton>
        </div>
      </div>
    </div>
  );
}

// path {
//   stroke-dasharray:1900;
//   stroke-dashoffset: 0;
// }

// .pathAnimation {
//   stroke-dasharray: 0;
// }
